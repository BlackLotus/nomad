definitions:
  name: 'NOMAD Example Lab'
  sections:
    Chemical:
      base_sections:
        - 'nomad.datamodel.metainfo.eln.Chemical'
        - 'nomad.datamodel.data.EntryData'
      quantities:
        storage_hold:
          description: |
            The group has various sample storage cabinets to keep chemicals. You'll find
            the stocked chemicals there.
          type:
            type_kind: Enum
            type_data:
              - cabinet 1.101
              - cabinet 1.102
              - cabinet 1.103
              - hazard room, cabinet 0.001
          m_annotations:
            eln:
              component: EnumEditQuantity
    Sample:
      description: |
        A description can contain **markdown** markup and TeX formulas, like $\sum\limits_{i=0}^{n}$.
      m_annotations:
        template:
          processes:
            pvd_evaporation: {}
      base_sections:
        - 'nomad.datamodel.metainfo.eln.Sample'
        - 'nomad.datamodel.data.EntryData'
      quantities:
        name:
          type: str
          default: Default Sample Name
          m_annotations:
            eln:
              component: StringEditQuantity
        tags:
          type:
            type_kind: Enum
            type_data:
              - important
              - project
              - base
          shape: ['*']
          m_annotations:
            eln:
              component: AutocompleteEditQuantity
        chemicals:
          type: Chemical
          shape: ['*']
          m_annotations:
            eln:
              component: ReferenceEditQuantity
      sub_sections:
        processes:
          section:
            m_annotations:
              eln:
            sub_sections:
              pvd_evaporation:
                section:
                  base_section: 'nomad.datamodel.metainfo.eln.Process'
                  m_annotations:
                    eln:
                      overview: true
                      hide: ['name', 'lab_id', 'description']
                    plot:
                      title: Pressure and Temperature over Time
                      x_axis: time
                      y_axis:
                        - chamber_pressure
                        - chamber_temperature
                  quantities:
                    set_temperature:
                      type: np.float64
                      unit: K
                      m_annotations:
                        eln:
                          component: NumberEditQuantity
                    duration:
                      type: np.float64
                      unit: s
                      m_annotations:
                        eln:
                          component: NumberEditQuantity
                    data_file:
                      type: str
                      description: |
                        A reference to an uploaded .csv produced by the PVD evaporation instruments
                        control software.
                      m_annotations:
                        tabular_parser:
                          sep: '\t'
                          comment: '#'
                        browser:
                          adaptor: RawFileAdaptor
                        eln:
                          component: FileEditQuantity
                    time:
                      type: np.float64
                      shape: ['*']
                      unit: s
                      m_annotations:
                        tabular:
                          name: Process Time in seconds
                    chamber_pressure:
                      type: np.float64
                      shape: ['*']
                      unit: mbar
                      m_annotations:
                        tabular:
                          name: Vacuum Pressure1
                        plot:
                          x: time
                          y: chamber_pressure
                    substrate_temperature:
                      type: np.float64
                      shape: ['*']
                      unit: kelvin
                      m_annotations:
                        tabular:
                          name: Substrate PV
                          unit: degC
                        plot:
                          x: time
                          y: substrate_temperature

